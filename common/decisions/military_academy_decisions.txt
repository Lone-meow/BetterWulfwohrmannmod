
##############################
###--- MILITARY ACADEMY ---###
##############################

OG_military_academy_decision_category = {

	OG_debug_unlock_slot = {
		priority = 59
		icon = eng_ally_imperialist_coup

		available = {
			OR = {
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_locked_slot_index }
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_locked_slot_index }
				check_variable = { OG_officer_in_training_photo_3_icon_frame = OG_military_academy_locked_slot_index }
				check_variable = { OG_officer_in_training_photo_4_icon_frame = OG_military_academy_locked_slot_index }
				check_variable = { OG_officer_in_training_photo_5_icon_frame = OG_military_academy_locked_slot_index }
				check_variable = { OG_officer_in_training_photo_6_icon_frame = OG_military_academy_locked_slot_index }
			}
		}

		visible = {
			OR = {
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_locked_slot_index }
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_locked_slot_index }
				check_variable = { OG_officer_in_training_photo_3_icon_frame = OG_military_academy_locked_slot_index }
				check_variable = { OG_officer_in_training_photo_4_icon_frame = OG_military_academy_locked_slot_index }
				check_variable = { OG_officer_in_training_photo_5_icon_frame = OG_military_academy_locked_slot_index }
				check_variable = { OG_officer_in_training_photo_6_icon_frame = OG_military_academy_locked_slot_index }
			}
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			OG_unlock_military_academy_slot_effect = yes
		}
	}

	OG_debug_MAKE_TRAINING_FASTER_HERE = {
		priority = 51
		icon = eng_ally_imperialist_coup

		available = {
			always = yes
		}

		visible = {
			NOT = {
				has_country_flag = OG_debug_fast_military_training_flag
			}
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			set_country_flag = OG_debug_fast_military_training_flag

			set_variable = { OG_default_military_training_duration = 5 }

		}
	}

	OG_debug_REGULAR_TRAINING_DURATION_HERE = {
		priority = 51
		icon = eng_ally_imperialist_coup

		available = {
			always = yes
		}

		visible = {
			has_country_flag = OG_debug_fast_military_training_flag
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			clr_country_flag = OG_debug_fast_military_training_flag

			set_variable = { OG_default_military_training_duration = 365 }

		}
	}







	# Would be cool to use a targeted decision with a target_array to scope all eligible characters, but targeted decisions only work for countries and states sadly.

	# NOTE: Certain features of these decisions might look a bit weird, but character modding is quite tedious due to finicky limitations and this is the best solution I was able to come up with.

	# NOTE 2: For frame selection, remember that the army/airforce/navy old guard advisors are included in the frame image and each take up a slot even though they don't have their own decisions. Be careful when creating a new decision and picking frame so it matches!

#@military_academy_pp_cost = 50				#Not in use anymore. Using variable instead.
#@military_academy_days_remove = 365		#
@military_academy_days_re_enable = 1


###################
### ARMY CHIEFS ###
###################

	### ARMY CHIEF REFORMER ###

	OG_train_army_chief_reform_decision = {
        icon = GFX_decision_train_army_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_chief_reform_1
					has_trait = army_chief_reform_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_chief_reform_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 4 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_reform_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_reform_1
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_reform_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_reform_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_reform_2
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_reform_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 4 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_chief_reform_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_reform_specialist_to_expert_training_flag
							AND = {	#FOR TOOLTIP ONLY
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_reform_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_reform_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_chief
						}
						add_advisor_role = {	#You're not allowed to put Available/Visible = {} statements in roles created in effects.
							advisor = {
								slot = army_chief
								cost = 100		#Increase pp cost, cp updates too.
								idea_token = XYZ_army_chief_reform
								traits = {
									army_chief_reform_2
								}
							}
						}
						clr_character_flag = OG_army_chief_reform_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {		#This tooltip looks better than the effect above, but can't be used as effect due to it not updating the command power and political power costs.
						limit = {
							OR = {
								has_character_flag = OG_army_chief_reform_specialist_to_expert_training_flag
								AND = {	#FOR TOOLTIP ONLY
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_reform_1
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_reform_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_reform_expert_to_genius_training_flag
							AND = {	#FOR TOOLTIP ONLY
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_reform_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_reform_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 200
								idea_token = XYZ_army_chief_reform
								traits = {
									army_chief_reform_3
								}
							}
						}
						clr_character_flag = OG_army_chief_reform_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_reform_expert_to_genius_training_flag
								AND = {	#FOR TOOLTIP ONLY
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_reform_2
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_reform_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {		#Make sure AI only ever trains 2 advisors at the time. Better for performance I guess.
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY CHIEF DRILL ###

	OG_train_army_chief_drill_decision = {
        icon = GFX_decision_train_army_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_chief_drill_1
					has_trait = army_chief_drill_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_chief_drill_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 5 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_drill_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_drill_1
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_drill_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_drill_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_drill_2
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_drill_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 5 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_chief_drill_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_drill_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_drill_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_drill_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_chief
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 100
								idea_token = XYZ_army_chief_drill
								traits = {
									army_chief_drill_2
								}
							}
						}
						clr_character_flag = OG_army_chief_drill_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_drill_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_drill_1
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_drill_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_drill_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_drill_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_drill_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 200
								idea_token = XYZ_army_chief_drill
								traits = {
									army_chief_drill_3
								}
							}
						}
						clr_character_flag = OG_army_chief_drill_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_drill_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_drill_2
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_drill_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY CHIEF ORGANIZATION ###

	OG_train_army_chief_organizational_decision = {
        icon = GFX_decision_train_army_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_chief_organizational_1
					has_trait = army_chief_organizational_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_chief_organizational_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 6 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_organizational_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_organizational_1
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_organizational_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_organizational_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_organizational_2
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_organizational_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 6 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_chief_organizational_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_organizational_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_organizational_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_organizational_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_chief
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 100
								idea_token = XYZ_army_chief_organizational
								traits = {
									army_chief_organizational_2
								}
							}
						}
						clr_character_flag = OG_army_chief_organizational_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_organizational_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_organizational_1
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_organizational_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_organizational_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_organizational_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_organizational_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 200
								idea_token = XYZ_army_chief_organizational
								traits = {
									army_chief_organizational_3
								}
							}
						}
						clr_character_flag = OG_army_chief_organizational_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_organizational_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_organizational_2
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_organizational_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY CHIEF PLANNING ###

	OG_train_army_chief_planning_decision = {
        icon = GFX_decision_train_army_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_chief_planning_1
					has_trait = army_chief_planning_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_chief_planning_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 7 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_planning_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_planning_1
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_planning_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_planning_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_planning_2
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_planning_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {
			set_variable = { OG_military_academy_training_to_remove = 7 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_chief_planning_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_planning_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_planning_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_planning_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_chief
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 100
								idea_token = XYZ_army_chief_planning
								traits = {
									army_chief_planning_2
								}
							}
						}
						clr_character_flag = OG_army_chief_planning_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_planning_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_planning_1
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_planning_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_planning_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_planning_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_planning_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 200
								idea_token = XYZ_army_chief_planning
								traits = {
									army_chief_planning_3
								}
							}
						}
						clr_character_flag = OG_army_chief_planning_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_planning_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_planning_2
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_planning_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY CHIEF OFFENSIVE ###

	OG_train_army_chief_offensive_decision = {
        icon = GFX_decision_train_army_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_chief_offensive_1
					has_trait = army_chief_offensive_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_chief_offensive_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 8 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_offensive_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_offensive_1
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_offensive_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_offensive_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_offensive_2
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_offensive_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 8 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_chief_offensive_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_offensive_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_offensive_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_offensive_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_chief
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 100
								idea_token = XYZ_army_chief_offensive
								traits = {
									army_chief_offensive_2
								}
							}
						}
						clr_character_flag = OG_army_chief_offensive_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_offensive_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_offensive_1
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_offensive_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_offensive_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_offensive_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_offensive_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 200
								idea_token = XYZ_army_chief_offensive
								traits = {
									army_chief_offensive_3
								}
							}
						}
						clr_character_flag = OG_army_chief_offensive_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_offensive_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_offensive_2
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_offensive_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY CHIEF DEFENSIVE ###

	OG_train_army_chief_defensive_decision = {
        icon = GFX_decision_train_army_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_chief_defensive_1
					has_trait = army_chief_defensive_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_chief_defensive_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 9 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_defensive_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_defensive_1
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_defensive_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_defensive_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_defensive_2
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_defensive_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 9 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_chief_defensive_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_defensive_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_defensive_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_defensive_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_chief
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 100
								idea_token = XYZ_army_chief_defensive
								traits = {
									army_chief_defensive_2
								}
							}
						}
						clr_character_flag = OG_army_chief_defensive_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_defensive_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_defensive_1
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_defensive_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_defensive_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_defensive_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_defensive_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 200
								idea_token = XYZ_army_chief_defensive
								traits = {
									army_chief_defensive_3
								}
							}
						}
						clr_character_flag = OG_army_chief_defensive_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_defensive_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_defensive_2
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_defensive_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY CHIEF MANEUVER ###

	OG_train_army_chief_maneuver_decision = {
        icon = GFX_decision_train_army_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_chief_maneuver_1
					has_trait = army_chief_maneuver_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_chief_maneuver_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 10 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_maneuver_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_maneuver_1
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_maneuver_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_maneuver_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_maneuver_2
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_maneuver_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 10 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_chief_maneuver_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_maneuver_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_maneuver_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_maneuver_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_chief
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 100
								idea_token = XYZ_army_chief_maneuver
								traits = {
									army_chief_maneuver_2
								}
							}
						}
						clr_character_flag = OG_army_chief_maneuver_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_maneuver_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_maneuver_1
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_maneuver_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_maneuver_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_maneuver_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_maneuver_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 200
								idea_token = XYZ_army_chief_maneuver
								traits = {
									army_chief_maneuver_3
								}
							}
						}
						clr_character_flag = OG_army_chief_maneuver_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_maneuver_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_maneuver_2
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_maneuver_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY CHIEF MORALE ###

	OG_train_army_chief_morale_decision = {
        icon = GFX_decision_train_army_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_chief_morale_1
					has_trait = army_chief_morale_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_chief_morale_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 11 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_morale_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_morale_1
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_morale_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_morale_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_morale_2
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_morale_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 11 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_chief_morale_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_morale_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_morale_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_morale_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_chief
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 100
								idea_token = XYZ_army_chief_morale
								traits = {
									army_chief_morale_2
								}
							}
						}
						clr_character_flag = OG_army_chief_morale_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_morale_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_morale_1
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_morale_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_morale_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_morale_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_morale_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 200
								idea_token = XYZ_army_chief_morale
								traits = {
									army_chief_morale_3
								}
							}
						}
						clr_character_flag = OG_army_chief_morale_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_morale_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_morale_2
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_morale_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY CHIEF ENTRENCHMENT / ENGINEERING ###

	OG_train_army_chief_entrenchment_decision = {
        icon = GFX_decision_train_army_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_chief_entrenchment_1
					has_trait = army_chief_entrenchment_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_chief_entrenchment_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 12 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_entrenchment_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_entrenchment_1
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_entrenchment_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_entrenchment_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_chief_entrenchment_2
					}
					remove_advisor_role = {
						slot = army_chief
					}
					set_character_flag = OG_army_chief_entrenchment_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 12 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_chief_entrenchment_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_entrenchment_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_entrenchment_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_entrenchment_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_chief
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 100
								idea_token = XYZ_army_chief_entrenchment
								traits = {
									army_chief_entrenchment_2
								}
							}
						}
						clr_character_flag = OG_army_chief_entrenchment_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_entrenchment_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_entrenchment_1
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_entrenchment_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_chief_entrenchment_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_chief_entrenchment_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_chief_entrenchment_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								cost = 200
								idea_token = XYZ_army_chief_entrenchment
								traits = {
									army_chief_entrenchment_3
								}
							}
						}
						clr_character_flag = OG_army_chief_entrenchment_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_chief_entrenchment_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_chief_entrenchment_2
								}
							}
						}
						add_trait = {
							 slot = army_chief
							 trait = army_chief_entrenchment_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

##################
### AIR CHIEFS ###
##################

### AIR CHIEF REFORMER ###

	OG_train_air_chief_reform_decision = {
        icon = GFX_decision_train_airforce_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_chief_reform_1
					has_trait = air_chief_reform_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_chief_reform_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 14 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_reform_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_reform_1
					}
					remove_advisor_role = {
						slot = air_chief
					}
					set_character_flag = OG_air_chief_reform_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_reform_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_reform_2
					}
					remove_advisor_role = {
						slot = air_chief
					}
					set_character_flag = OG_air_chief_reform_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 14 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_chief_reform_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_chief_reform_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_chief_reform_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_chief_reform_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_chief
						}
						add_advisor_role = {
							advisor = {
								slot = air_chief
								cost = 100
								idea_token = XYZ_air_chief_reform
								traits = {
									air_chief_reform_2
								}
							}
						}
						clr_character_flag = OG_air_chief_reform_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_chief_reform_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_chief_reform_1
								}
							}
						}
						add_trait = {
							 slot = air_chief
							 trait = air_chief_reform_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_chief_reform_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_chief_reform_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_chief_reform_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_chief
								cost = 200
								idea_token = XYZ_air_chief_reform
								traits = {
									air_chief_reform_3
								}
							}
						}
						clr_character_flag = OG_air_chief_reform_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_chief_reform_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_chief_reform_2
								}
							}
						}
						add_trait = {
							 slot = air_chief
							 trait = air_chief_reform_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

### AIR CHIEF ALL-WEATHER ###

	OG_train_air_chief_all_weather_decision = {
        icon = GFX_decision_train_airforce_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_chief_all_weather_1
					has_trait = air_chief_all_weather_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_chief_all_weather_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 15 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_all_weather_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_all_weather_1
					}
					remove_advisor_role = {
						slot = air_chief
					}
					set_character_flag = OG_air_chief_all_weather_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_all_weather_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_all_weather_2
					}
					remove_advisor_role = {
						slot = air_chief
					}
					set_character_flag = OG_air_chief_all_weather_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 15 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_chief_all_weather_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_chief_all_weather_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_chief_all_weather_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_chief_all_weather_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_chief
						}
						add_advisor_role = {
							advisor = {
								slot = air_chief
								cost = 100
								idea_token = XYZ_air_chief_all_weather
								traits = {
									air_chief_all_weather_2
								}
							}
						}
						clr_character_flag = OG_air_chief_all_weather_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_chief_all_weather_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_chief_all_weather_1
								}
							}
						}
						add_trait = {
							 slot = air_chief
							 trait = air_chief_all_weather_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_chief_all_weather_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_chief_all_weather_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_chief_all_weather_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_chief
								cost = 200
								idea_token = XYZ_air_chief_all_weather
								traits = {
									air_chief_all_weather_3
								}
							}
						}
						clr_character_flag = OG_air_chief_all_weather_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_chief_all_weather_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_chief_all_weather_2
								}
							}
						}
						add_trait = {
							 slot = air_chief
							 trait = air_chief_all_weather_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

### AIR CHIEF NIGHT OPERATIONS ###

	OG_train_air_chief_night_operations_decision = {
        icon = GFX_decision_train_airforce_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_chief_night_operations_1
					has_trait = air_chief_night_operations_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_chief_night_operations_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 16 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_night_operations_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_night_operations_1
					}
					remove_advisor_role = {
						slot = air_chief
					}
					set_character_flag = OG_air_chief_night_operations_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_night_operations_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_night_operations_2
					}
					remove_advisor_role = {
						slot = air_chief
					}
					set_character_flag = OG_air_chief_night_operations_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 16 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_chief_night_operations_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_chief_night_operations_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_chief_night_operations_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_chief_night_operations_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_chief
						}
						add_advisor_role = {
							advisor = {
								slot = air_chief
								cost = 100
								idea_token = XYZ_air_chief_night_operations
								traits = {
									air_chief_night_operations_2
								}
							}
						}
						clr_character_flag = OG_air_chief_night_operations_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_chief_night_operations_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_chief_night_operations_1
								}
							}
						}
						add_trait = {
							 slot = air_chief
							 trait = air_chief_night_operations_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_chief_night_operations_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_chief_night_operations_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_chief_night_operations_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_chief
								cost = 200
								idea_token = XYZ_air_chief_night_operations
								traits = {
									air_chief_night_operations_3
								}
							}
						}
						clr_character_flag = OG_air_chief_night_operations_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_chief_night_operations_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_chief_night_operations_2
								}
							}
						}
						add_trait = {
							 slot = air_chief
							 trait = air_chief_night_operations_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

### AIR CHIEF SAFETY ###

	OG_train_air_chief_safety_decision = {
        icon = GFX_decision_train_airforce_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_chief_safety_1
					has_trait = air_chief_safety_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_chief_safety_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 17 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_safety_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_safety_1
					}
					remove_advisor_role = {
						slot = air_chief
					}
					set_character_flag = OG_air_chief_safety_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_safety_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_safety_2
					}
					remove_advisor_role = {
						slot = air_chief
					}
					set_character_flag = OG_air_chief_safety_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 17 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_chief_safety_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_chief_safety_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_chief_safety_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_chief_safety_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_chief
						}
						add_advisor_role = {
							advisor = {
								slot = air_chief
								cost = 100
								idea_token = XYZ_air_chief_safety
								traits = {
									air_chief_safety_2
								}
							}
						}
						clr_character_flag = OG_air_chief_safety_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_chief_safety_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_chief_safety_1
								}
							}
						}
						add_trait = {
							 slot = air_chief
							 trait = air_chief_safety_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_chief_safety_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_chief_safety_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_chief_safety_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_chief
								cost = 200
								idea_token = XYZ_air_chief_safety
								traits = {
									air_chief_safety_3
								}
							}
						}
						clr_character_flag = OG_air_chief_safety_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_chief_safety_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_chief_safety_2
								}
							}
						}
						add_trait = {
							 slot = air_chief
							 trait = air_chief_safety_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

### AIR CHIEF GROUND SUPPORT ###

	OG_train_air_chief_ground_support_decision = {
        icon = GFX_decision_train_airforce_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_chief_ground_support_1
					has_trait = air_chief_ground_support_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_chief_ground_support_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 18 }
			OG_pick_military_academy_slot_effect = yes


			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_ground_support_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_ground_support_1
					}
					remove_advisor_role = {
						slot = air_chief
					}
					set_character_flag = OG_air_chief_ground_support_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_ground_support_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_chief_ground_support_2
					}
					remove_advisor_role = {
						slot = air_chief
					}
					set_character_flag = OG_air_chief_ground_support_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 18 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_chief_ground_support_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_chief_ground_support_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_chief_ground_support_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_chief_ground_support_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_chief
						}
						add_advisor_role = {
							advisor = {
								slot = air_chief
								cost = 100
								idea_token = XYZ_air_chief_ground_support
								traits = {
									air_chief_ground_support_2
								}
							}
						}
						clr_character_flag = OG_air_chief_ground_support_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_chief_ground_support_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_chief_ground_support_1
								}
							}
						}
						add_trait = {
							 slot = air_chief
							 trait = air_chief_ground_support_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_chief_ground_support_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_chief_ground_support_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_chief_ground_support_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_chief
								cost = 200
								idea_token = XYZ_air_chief_ground_support
								traits = {
									air_chief_ground_support_3
								}
							}
						}
						clr_character_flag = OG_air_chief_ground_support_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_chief_ground_support_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_chief_ground_support_2
								}
							}
						}
						add_trait = {
							 slot = air_chief
							 trait = air_chief_ground_support_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

###################
### NAVY CHIEFS ###
###################

### NAVY CHIEF REFORMER ###

	OG_train_navy_chief_reform_decision = {
        icon = GFX_decision_train_navy_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_chief_reform_1
					has_trait = navy_chief_reform_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_chief_reform_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 20 }
			OG_pick_military_academy_slot_effect = yes


			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_reform_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_reform_1
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_reform_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_reform_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_reform_2
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_reform_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 20 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_chief_reform_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_reform_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_reform_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_reform_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_chief
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 100
								idea_token = XYZ_navy_chief_reform
								traits = {
									navy_chief_reform_2
								}
							}
						}
						clr_character_flag = OG_navy_chief_reform_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_reform_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_reform_1
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_reform_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_reform_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_reform_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_reform_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 200
								idea_token = XYZ_navy_chief_reform
								traits = {
									navy_chief_reform_3
								}
							}
						}
						clr_character_flag = OG_navy_chief_reform_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_reform_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_reform_2
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_reform_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

### NAVY CHIEF DECISIVE BATTLE ###

	OG_train_navy_chief_decisive_battle_decision = {
        icon = GFX_decision_train_navy_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_chief_decisive_battle_1
					has_trait = navy_chief_decisive_battle_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_chief_decisive_battle_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 21 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_decisive_battle_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_decisive_battle_1
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_decisive_battle_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_decisive_battle_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_decisive_battle_2
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_decisive_battle_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 21 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_chief_decisive_battle_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_decisive_battle_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_decisive_battle_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_decisive_battle_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_chief
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 100
								idea_token = XYZ_navy_chief_decisive_battle
								traits = {
									navy_chief_decisive_battle_2
								}
							}
						}
						clr_character_flag = OG_navy_chief_decisive_battle_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_decisive_battle_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_decisive_battle_1
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_decisive_battle_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_decisive_battle_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_decisive_battle_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_decisive_battle_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 200
								idea_token = XYZ_navy_chief_decisive_battle
								traits = {
									navy_chief_decisive_battle_3
								}
							}
						}
						clr_character_flag = OG_navy_chief_decisive_battle_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_decisive_battle_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_decisive_battle_2
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_decisive_battle_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

### NAVY CHIEF COMMERCE RAIDING ###

	OG_train_navy_chief_commerce_raiding_decision = {
        icon = GFX_decision_train_navy_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_chief_commerce_raiding_1
					has_trait = navy_chief_commerce_raiding_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_chief_commerce_raiding_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 22 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_commerce_raiding_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_commerce_raiding_1
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_commerce_raiding_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_commerce_raiding_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_commerce_raiding_2
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_commerce_raiding_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 22 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_chief_commerce_raiding_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_commerce_raiding_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_commerce_raiding_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_commerce_raiding_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_chief
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 100
								idea_token = XYZ_navy_chief_commerce_raiding
								traits = {
									navy_chief_commerce_raiding_2
								}
							}
						}
						clr_character_flag = OG_navy_chief_commerce_raiding_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_commerce_raiding_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_commerce_raiding_1
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_commerce_raiding_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_commerce_raiding_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_commerce_raiding_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_commerce_raiding_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 200
								idea_token = XYZ_navy_chief_commerce_raiding
								traits = {
									navy_chief_commerce_raiding_3
								}
							}
						}
						clr_character_flag = OG_navy_chief_commerce_raiding_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_commerce_raiding_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_commerce_raiding_2
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_commerce_raiding_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

### NAVY CHIEF NAVAL AVIATION ###

	OG_train_navy_chief_naval_aviation_decision = {
        icon = GFX_decision_train_navy_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_chief_naval_aviation_1
					has_trait = navy_chief_naval_aviation_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_chief_naval_aviation_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 23 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_naval_aviation_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_naval_aviation_1
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_naval_aviation_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_naval_aviation_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_naval_aviation_2
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_naval_aviation_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 23 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_chief_naval_aviation_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_naval_aviation_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_naval_aviation_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_naval_aviation_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_chief
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 100
								idea_token = XYZ_navy_chief_naval_aviation
								traits = {
									navy_chief_naval_aviation_2
								}
							}
						}
						clr_character_flag = OG_navy_chief_naval_aviation_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_naval_aviation_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_naval_aviation_1
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_naval_aviation_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_naval_aviation_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_naval_aviation_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_naval_aviation_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 200
								idea_token = XYZ_navy_chief_naval_aviation
								traits = {
									navy_chief_naval_aviation_3
								}
							}
						}
						clr_character_flag = OG_navy_chief_naval_aviation_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_naval_aviation_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_naval_aviation_2
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_naval_aviation_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

### NAVY CHIEF MANEUVER ###

	OG_train_navy_chief_maneuver_decision = {
        icon = GFX_decision_train_navy_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_chief_maneuver_1
					has_trait = navy_chief_maneuver_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_chief_maneuver_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 24 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_maneuver_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_maneuver_1
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_maneuver_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_maneuver_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_maneuver_2
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_maneuver_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 24 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_chief_maneuver_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_maneuver_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_maneuver_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_maneuver_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_chief
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 100
								idea_token = XYZ_navy_chief_maneuver
								traits = {
									navy_chief_maneuver_2
								}
							}
						}
						clr_character_flag = OG_navy_chief_maneuver_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_maneuver_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_maneuver_1
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_maneuver_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_maneuver_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_maneuver_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_maneuver_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 200
								idea_token = XYZ_navy_chief_maneuver
								traits = {
									navy_chief_maneuver_3
								}
							}
						}
						clr_character_flag = OG_navy_chief_maneuver_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_maneuver_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_maneuver_2
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_maneuver_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }


### NAVY CHIEF SMALL FLEET ORGANIZER / UNDERDOG ###

	OG_train_navy_chief_small_fleet_organizer_decision = {
        icon = GFX_decision_train_navy_chief_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_chief_small_fleet_organizer_1
					has_trait = navy_chief_small_fleet_organizer_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_chief_small_fleet_organizer_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 25 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_small_fleet_organizer_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_small_fleet_organizer_1
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_small_fleet_organizer_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_small_fleet_organizer_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_chief_small_fleet_organizer_2
					}
					remove_advisor_role = {
						slot = navy_chief
					}
					set_character_flag = OG_navy_chief_small_fleet_organizer_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 25 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_chief_small_fleet_organizer_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_small_fleet_organizer_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_small_fleet_organizer_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_small_fleet_organizer_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_chief
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 100
								idea_token = XYZ_navy_chief_small_fleet_organizer
								traits = {
									navy_chief_small_fleet_organizer_2
								}
							}
						}
						clr_character_flag = OG_navy_chief_small_fleet_organizer_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_small_fleet_organizer_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_small_fleet_organizer_1
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_small_fleet_organizer_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_chief_small_fleet_organizer_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_chief_small_fleet_organizer_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_chief_small_fleet_organizer_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_chief
								cost = 200
								idea_token = XYZ_navy_chief_small_fleet_organizer
								traits = {
									navy_chief_small_fleet_organizer_3
								}
							}
						}
						clr_character_flag = OG_navy_chief_small_fleet_organizer_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_chief_small_fleet_organizer_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_chief_small_fleet_organizer_2
								}
							}
						}
						add_trait = {
							 slot = navy_chief
							 trait = navy_chief_small_fleet_organizer_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

###########################
### HIGH COMMAND - ARMY ###
###########################

	### ARMY INFANTRY ###

	OG_train_army_infantry_decision = {
        icon = GFX_decision_train_army_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_infantry_1
					has_trait = army_infantry_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_infantry_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 26 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_infantry_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_infantry_1
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_infantry_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_infantry_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_infantry_2
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_infantry_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 26 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_infantry_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_infantry_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_infantry_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_infantry_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 100
								idea_token = XYZ_army_infantry
								traits = {
									army_infantry_2
								}
							}
						}
						clr_character_flag = OG_army_infantry_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_infantry_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_infantry_1
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_infantry_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_infantry_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_infantry_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_infantry_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 200
								idea_token = XYZ_army_infantry
								traits = {
									army_infantry_3
								}
							}
						}
						clr_character_flag = OG_army_infantry_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_infantry_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_infantry_2
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_infantry_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY COMMANDO ###

	OG_train_army_commando_decision = {
        icon = GFX_decision_train_army_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_commando_1
					has_trait = army_commando_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_commando_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 27 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_commando_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_commando_1
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_commando_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_commando_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_commando_2
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_commando_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 27 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_commando_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_commando_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_commando_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_commando_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 100
								idea_token = XYZ_army_commando
								traits = {
									army_commando_2
								}
							}
						}
						clr_character_flag = OG_army_commando_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_commando_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_commando_1
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_commando_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_commando_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_commando_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_commando_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 200
								idea_token = XYZ_army_commando
								traits = {
									army_commando_3
								}
							}
						}
						clr_character_flag = OG_army_commando_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_commando_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_commando_2
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_commando_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY ARTILLERY ###

	OG_train_army_artillery_decision = {
        icon = GFX_decision_train_army_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_artillery_1
					has_trait = army_artillery_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_artillery_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 28 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_artillery_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_artillery_1
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_artillery_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_artillery_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_artillery_2
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_artillery_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 28 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_artillery_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_artillery_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_artillery_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_artillery_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 100
								idea_token = XYZ_army_artillery
								traits = {
									army_artillery_2
								}
							}
						}
						clr_character_flag = OG_army_artillery_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_artillery_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_artillery_1
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_artillery_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_artillery_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_artillery_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_artillery_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 200
								idea_token = XYZ_army_artillery
								traits = {
									army_artillery_3
								}
							}
						}
						clr_character_flag = OG_army_artillery_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_artillery_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_artillery_2
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_artillery_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY LOGISTICS ###

	OG_train_army_logistics_decision = {
        icon = GFX_decision_train_army_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_logistics_1
					has_trait = army_logistics_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_logistics_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 29 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_logistics_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_logistics_1
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_logistics_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_logistics_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_logistics_2
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_logistics_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 29 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_logistics_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_logistics_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_logistics_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_logistics_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 100
								idea_token = XYZ_army_logistics
								traits = {
									army_logistics_2
								}
							}
						}
						clr_character_flag = OG_army_logistics_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_logistics_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_logistics_1
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_logistics_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_logistics_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_logistics_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_logistics_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 200
								idea_token = XYZ_army_logistics
								traits = {
									army_logistics_3
								}
							}
						}
						clr_character_flag = OG_army_logistics_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_logistics_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_logistics_2
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_logistics_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY IMPROVISATION ###

	OG_train_army_planning_decision = {
        icon = GFX_decision_train_army_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_planning_1
					has_trait = army_planning_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_planning_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 30 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_planning_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_planning_1
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_planning_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_planning_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_planning_2
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_planning_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 30 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_planning_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_planning_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_planning_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_planning_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 100
								idea_token = XYZ_army_planning
								traits = {
									army_planning_2
								}
							}
						}
						clr_character_flag = OG_army_planning_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_planning_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_planning_1
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_planning_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_planning_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_planning_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_planning_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 200
								idea_token = XYZ_army_planning
								traits = {
									army_planning_3
								}
							}
						}
						clr_character_flag = OG_army_planning_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_planning_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_planning_2
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_planning_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY REGROUPING ###

	OG_train_army_regrouping_decision = {
        icon = GFX_decision_train_army_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_regrouping_1
					has_trait = army_regrouping_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_regrouping_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 31 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_regrouping_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_regrouping_1
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_regrouping_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_regrouping_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_regrouping_2
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_regrouping_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 31 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_regrouping_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_regrouping_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_regrouping_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_regrouping_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 100
								idea_token = XYZ_army_regrouping
								traits = {
									army_regrouping_2
								}
							}
						}
						clr_character_flag = OG_army_regrouping_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_regrouping_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_regrouping_1
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_regrouping_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_regrouping_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_regrouping_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_regrouping_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 200
								idea_token = XYZ_army_regrouping
								traits = {
									army_regrouping_3
								}
							}
						}
						clr_character_flag = OG_army_regrouping_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_regrouping_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_regrouping_2
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_regrouping_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY ENTRENCHMENT ###

	OG_train_army_entrenchment_decision = {
        icon = GFX_decision_train_army_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_entrenchment_1
					has_trait = army_entrenchment_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_entrenchment_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 32 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_entrenchment_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_entrenchment_1
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_entrenchment_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_entrenchment_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_entrenchment_2
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_entrenchment_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 32 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_entrenchment_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_entrenchment_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_entrenchment_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_entrenchment_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 100
								idea_token = XYZ_army_entrenchment
								traits = {
									army_entrenchment_2
								}
							}
						}
						clr_character_flag = OG_army_entrenchment_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_entrenchment_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_entrenchment_1
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_entrenchment_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_entrenchment_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_entrenchment_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_entrenchment_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 200
								idea_token = XYZ_army_entrenchment
								traits = {
									army_entrenchment_3
								}
							}
						}
						clr_character_flag = OG_army_entrenchment_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_entrenchment_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_entrenchment_2
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_entrenchment_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY CAVALRY ###

	OG_train_army_cavalry_decision = {
        icon = GFX_decision_train_army_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_cavalry_1
					has_trait = army_cavalry_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_cavalry_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 33 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_cavalry_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_cavalry_1
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_cavalry_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_cavalry_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_cavalry_2
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_cavalry_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 33 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_cavalry_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_cavalry_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_cavalry_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_cavalry_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 100
								idea_token = XYZ_army_cavalry
								traits = {
									army_cavalry_2
								}
							}
						}
						clr_character_flag = OG_army_cavalry_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_cavalry_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_cavalry_1
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_cavalry_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_cavalry_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_cavalry_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_cavalry_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 200
								idea_token = XYZ_army_cavalry
								traits = {
									army_cavalry_3
								}
							}
						}
						clr_character_flag = OG_army_cavalry_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_cavalry_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_cavalry_2
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_cavalry_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY COMBINED ARMS ###

	OG_train_army_CombinedArms_decision = {
        icon = GFX_decision_train_army_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_CombinedArms_1
					has_trait = army_CombinedArms_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_CombinedArms_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 34 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_CombinedArms_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_CombinedArms_1
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_CombinedArms_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_CombinedArms_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_CombinedArms_2
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_CombinedArms_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 34 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_CombinedArms_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_CombinedArms_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_CombinedArms_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_CombinedArms_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 100
								idea_token = XYZ_army_CombinedArms
								traits = {
									army_CombinedArms_2
								}
							}
						}
						clr_character_flag = OG_army_CombinedArms_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_CombinedArms_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_CombinedArms_1
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_CombinedArms_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_CombinedArms_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_CombinedArms_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_CombinedArms_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 200
								idea_token = XYZ_army_CombinedArms
								traits = {
									army_CombinedArms_3
								}
							}
						}
						clr_character_flag = OG_army_CombinedArms_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_CombinedArms_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_CombinedArms_2
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_CombinedArms_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY ARMORED ###

	OG_train_army_armored_decision = {
        icon = GFX_decision_train_army_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_armored_1
					has_trait = army_armored_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_armored_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 35 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_armored_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_armored_1
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_armored_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_armored_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_armored_2
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_armored_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 35 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_armored_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_armored_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_armored_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_armored_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 100
								idea_token = XYZ_army_armored
								traits = {
									army_armored_2
								}
							}
						}
						clr_character_flag = OG_army_armored_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_armored_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_armored_1
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_armored_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_armored_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_armored_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_armored_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 200
								idea_token = XYZ_army_armored
								traits = {
									army_armored_3
								}
							}
						}
						clr_character_flag = OG_army_armored_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_armored_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_armored_2
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_armored_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### ARMY CONCEALMENT ###

	OG_train_army_concealment_decision = {
        icon = GFX_decision_train_army_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = army_concealment_1
					has_trait = army_concealment_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_army_concealment_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 36 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_concealment_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_concealment_1
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_concealment_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_concealment_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = army_concealment_2
					}
					remove_advisor_role = {
						slot = army_high_command
					}
					set_character_flag = OG_army_concealment_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 36 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_army_concealment_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_concealment_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_concealment_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_concealment_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = army_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 100
								idea_token = XYZ_army_concealment
								traits = {
									army_concealment_2
								}
							}
						}
						clr_character_flag = OG_army_concealment_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_concealment_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_concealment_1
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_concealment_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_army_concealment_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = army_concealment_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_army_concealment_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = army_high_command
								cost = 200
								idea_token = XYZ_army_concealment
								traits = {
									army_concealment_3
								}
							}
						}
						clr_character_flag = OG_army_concealment_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_army_concealment_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = army_concealment_2
								}
							}
						}
						add_trait = {
							 slot = army_high_command
							 trait = army_concealment_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

##########################
### HIGH COMMAND - AIR ###
##########################

	### AIR AIR SUPERIORITY ###

	OG_train_air_air_superiority_decision = {
        icon = GFX_decision_train_airforce_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_air_superiority_1
					has_trait = air_air_superiority_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_air_superiority_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 37 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_air_superiority_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_air_superiority_1
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_air_superiority_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_air_superiority_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_air_superiority_2
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_air_superiority_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 37 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_air_superiority_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_air_superiority_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_air_superiority_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_air_superiority_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 100
								idea_token = XYZ_air_air_superiority
								traits = {
									air_air_superiority_2
								}
							}
						}
						clr_character_flag = OG_air_air_superiority_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_air_superiority_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_air_superiority_1
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_air_superiority_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_air_superiority_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_air_superiority_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_air_superiority_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 200
								idea_token = XYZ_air_air_superiority
								traits = {
									air_air_superiority_3
								}
							}
						}
						clr_character_flag = OG_air_air_superiority_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_air_superiority_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_air_superiority_2
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_air_superiority_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### AIR CLOSE AIR SUPPORT ###

	OG_train_air_close_air_support_decision = {
        icon = GFX_decision_train_airforce_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_close_air_support_1
					has_trait = air_close_air_support_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_close_air_support_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 38 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_close_air_support_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_close_air_support_1
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_close_air_support_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_close_air_support_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_close_air_support_2
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_close_air_support_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 38 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_close_air_support_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_close_air_support_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_close_air_support_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_close_air_support_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 100
								idea_token = XYZ_air_close_air_support
								traits = {
									air_close_air_support_2
								}
							}
						}
						clr_character_flag = OG_air_close_air_support_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_close_air_support_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_close_air_support_1
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_close_air_support_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_close_air_support_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_close_air_support_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_close_air_support_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 200
								idea_token = XYZ_air_close_air_support
								traits = {
									air_close_air_support_3
								}
							}
						}
						clr_character_flag = OG_air_close_air_support_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_close_air_support_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_close_air_support_2
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_close_air_support_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### AIR TACTICAL BOMBING ###

	OG_train_air_tactical_bombing_decision = {
        icon = GFX_decision_train_airforce_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_tactical_bombing_1
					has_trait = air_tactical_bombing_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_tactical_bombing_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 39 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_tactical_bombing_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_tactical_bombing_1
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_tactical_bombing_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_tactical_bombing_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_tactical_bombing_2
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_tactical_bombing_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 39 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_tactical_bombing_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_tactical_bombing_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_tactical_bombing_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_tactical_bombing_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 100
								idea_token = XYZ_air_tactical_bombing
								traits = {
									air_tactical_bombing_2
								}
							}
						}
						clr_character_flag = OG_air_tactical_bombing_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_tactical_bombing_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_tactical_bombing_1
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_tactical_bombing_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_tactical_bombing_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_tactical_bombing_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_tactical_bombing_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 200
								idea_token = XYZ_air_tactical_bombing
								traits = {
									air_tactical_bombing_3
								}
							}
						}
						clr_character_flag = OG_air_tactical_bombing_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_tactical_bombing_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_tactical_bombing_2
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_tactical_bombing_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### AIR STRATEGIC BOMBING ###

	OG_train_air_strategic_bombing_decision = {
        icon = GFX_decision_train_airforce_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_strategic_bombing_1
					has_trait = air_strategic_bombing_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_strategic_bombing_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 40 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_strategic_bombing_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_strategic_bombing_1
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_strategic_bombing_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_strategic_bombing_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_strategic_bombing_2
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_strategic_bombing_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 40 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_strategic_bombing_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_strategic_bombing_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_strategic_bombing_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_strategic_bombing_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 100
								idea_token = XYZ_air_strategic_bombing
								traits = {
									air_strategic_bombing_2
								}
							}
						}
						clr_character_flag = OG_air_strategic_bombing_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_strategic_bombing_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_strategic_bombing_1
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_strategic_bombing_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_strategic_bombing_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_strategic_bombing_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_strategic_bombing_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 200
								idea_token = XYZ_air_strategic_bombing
								traits = {
									air_strategic_bombing_3
								}
							}
						}
						clr_character_flag = OG_air_strategic_bombing_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_strategic_bombing_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_strategic_bombing_2
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_strategic_bombing_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### AIR BOMBER INTERCEPTION ###

	OG_train_air_bomber_interception_decision = {
        icon = GFX_decision_train_airforce_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_bomber_interception_1
					has_trait = air_bomber_interception_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }
		fire_only_once = no
		cost = OG_train_air_bomber_interception_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 41 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_bomber_interception_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_bomber_interception_1
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_bomber_interception_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_bomber_interception_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_bomber_interception_2
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_bomber_interception_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 41 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_bomber_interception_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_bomber_interception_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_bomber_interception_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_bomber_interception_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 100
								idea_token = XYZ_air_bomber_interception
								traits = {
									air_bomber_interception_2
								}
							}
						}
						clr_character_flag = OG_air_bomber_interception_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_bomber_interception_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_bomber_interception_1
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_bomber_interception_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_bomber_interception_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_bomber_interception_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_bomber_interception_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 200
								idea_token = XYZ_air_bomber_interception
								traits = {
									air_bomber_interception_3
								}
							}
						}
						clr_character_flag = OG_air_bomber_interception_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_bomber_interception_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_bomber_interception_2
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_bomber_interception_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### AIR PILOT TRAINING ###

	OG_train_air_pilot_training_decision = {
        icon = GFX_decision_train_airforce_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_pilot_training_1
					has_trait = air_pilot_training_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_pilot_training_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 42 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_pilot_training_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_pilot_training_1
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_pilot_training_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_pilot_training_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_pilot_training_2
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_pilot_training_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 42 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_pilot_training_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_pilot_training_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_pilot_training_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_pilot_training_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 100
								idea_token = XYZ_air_pilot_training
								traits = {
									air_pilot_training_2
								}
							}
						}
						clr_character_flag = OG_air_pilot_training_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_pilot_training_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_pilot_training_1
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_pilot_training_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_pilot_training_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_pilot_training_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_pilot_training_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 200
								idea_token = XYZ_air_pilot_training
								traits = {
									air_pilot_training_3
								}
							}
						}
						clr_character_flag = OG_air_pilot_training_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_pilot_training_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_pilot_training_2
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_pilot_training_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### AIR AIR COMBAT TRAINING ###

	OG_train_air_air_combat_training_decision = {
        icon = GFX_decision_train_airforce_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_air_combat_training_1
					has_trait = air_air_combat_training_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_air_combat_training_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 43 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_air_combat_training_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_air_combat_training_1
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_air_combat_training_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_air_combat_training_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_air_combat_training_2
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_air_combat_training_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 43 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_air_combat_training_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_air_combat_training_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_air_combat_training_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_air_combat_training_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 100
								idea_token = XYZ_air_air_combat_training
								traits = {
									air_air_combat_training_2
								}
							}
						}
						clr_character_flag = OG_air_air_combat_training_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_air_combat_training_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_air_combat_training_1
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_air_combat_training_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_air_combat_training_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_air_combat_training_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_air_combat_training_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 200
								idea_token = XYZ_air_air_combat_training
								traits = {
									air_air_combat_training_3
								}
							}
						}
						clr_character_flag = OG_air_air_combat_training_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_air_combat_training_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_air_combat_training_2
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_air_combat_training_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### AIR NAVAL STRIKE ###

	OG_train_air_naval_strike_decision = {
        icon = GFX_decision_train_airforce_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_naval_strike_1
					has_trait = air_naval_strike_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }
		fire_only_once = no
		cost = OG_train_air_naval_strike_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 44 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_naval_strike_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_naval_strike_1
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_naval_strike_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_naval_strike_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_naval_strike_2
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_naval_strike_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 44 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_naval_strike_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_naval_strike_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_naval_strike_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_naval_strike_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 100
								idea_token = XYZ_air_naval_strike
								traits = {
									air_naval_strike_2
								}
							}
						}
						clr_character_flag = OG_air_naval_strike_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_naval_strike_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_naval_strike_1
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_naval_strike_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_naval_strike_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_naval_strike_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_naval_strike_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 200
								idea_token = XYZ_air_naval_strike
								traits = {
									air_naval_strike_3
								}
							}
						}
						clr_character_flag = OG_air_naval_strike_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_naval_strike_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_naval_strike_2
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_naval_strike_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### AIR AIRBORNE ASSAULT ###

	OG_train_air_airborne_decision = {
        icon = GFX_decision_train_airforce_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = air_airborne_1
					has_trait = air_airborne_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_air_airborne_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 45 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_airborne_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_airborne_1
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_airborne_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_airborne_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = air_airborne_2
					}
					remove_advisor_role = {
						slot = air_high_command
					}
					set_character_flag = OG_air_airborne_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 45 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_air_airborne_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_airborne_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_airborne_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_airborne_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = air_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 100
								idea_token = XYZ_air_airborne
								traits = {
									air_airborne_2
								}
							}
						}
						clr_character_flag = OG_air_airborne_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_airborne_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_airborne_1
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_airborne_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_air_airborne_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = air_airborne_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_air_airborne_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = air_high_command
								cost = 200
								idea_token = XYZ_air_airborne
								traits = {
									air_airborne_3
								}
							}
						}
						clr_character_flag = OG_air_airborne_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_air_airborne_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = air_airborne_2
								}
							}
						}
						add_trait = {
							 slot = air_high_command
							 trait = air_airborne_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

###########################
### HIGH COMMAND - NAVY ###
###########################

	### NAVY AMPHIBIOUS ASSAULT ###

	OG_train_navy_amphibious_assault_decision = {
        icon = GFX_decision_train_navy_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_amphibious_assault_1
					has_trait = navy_amphibious_assault_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_amphibious_assault_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 46 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_amphibious_assault_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_amphibious_assault_1
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_amphibious_assault_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_amphibious_assault_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_amphibious_assault_2
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_amphibious_assault_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 46 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_amphibious_assault_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_amphibious_assault_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_amphibious_assault_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_amphibious_assault_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 100
								idea_token = XYZ_navy_amphibious_assault
								traits = {
									navy_amphibious_assault_2
								}
							}
						}
						clr_character_flag = OG_navy_amphibious_assault_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_amphibious_assault_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_amphibious_assault_1
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_amphibious_assault_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_amphibious_assault_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_amphibious_assault_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_amphibious_assault_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 200
								idea_token = XYZ_navy_amphibious_assault
								traits = {
									navy_amphibious_assault_3
								}
							}
						}
						clr_character_flag = OG_navy_amphibious_assault_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_amphibious_assault_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_amphibious_assault_2
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_amphibious_assault_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### NAVY FLEET LOGISTICS ###

	OG_train_navy_fleet_logistics_decision = {
        icon = GFX_decision_train_navy_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_fleet_logistics_1
					has_trait = navy_fleet_logistics_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_fleet_logistics_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 47 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_fleet_logistics_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_fleet_logistics_1
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_fleet_logistics_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_fleet_logistics_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_fleet_logistics_2
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_fleet_logistics_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 47 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_fleet_logistics_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_fleet_logistics_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_fleet_logistics_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_fleet_logistics_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 100
								idea_token = XYZ_navy_fleet_logistics
								traits = {
									navy_fleet_logistics_2
								}
							}
						}
						clr_character_flag = OG_navy_fleet_logistics_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_fleet_logistics_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_fleet_logistics_1
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_fleet_logistics_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_fleet_logistics_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_fleet_logistics_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_fleet_logistics_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 200
								idea_token = XYZ_navy_fleet_logistics
								traits = {
									navy_fleet_logistics_3
								}
							}
						}
						clr_character_flag = OG_navy_fleet_logistics_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_fleet_logistics_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_fleet_logistics_2
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_fleet_logistics_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### NAVY ANTI-SUBMARINE ###

	OG_train_navy_anti_submarine_decision = {
        icon = GFX_decision_train_navy_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_anti_submarine_1
					has_trait = navy_anti_submarine_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_anti_submarine_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 48 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_anti_submarine_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_anti_submarine_1
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_anti_submarine_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_anti_submarine_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_anti_submarine_2
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_anti_submarine_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 48 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_anti_submarine_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_anti_submarine_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_anti_submarine_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_anti_submarine_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 100
								idea_token = XYZ_navy_anti_submarine
								traits = {
									navy_anti_submarine_2
								}
							}
						}
						clr_character_flag = OG_navy_anti_submarine_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_anti_submarine_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_anti_submarine_1
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_anti_submarine_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_anti_submarine_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_anti_submarine_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_anti_submarine_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 200
								idea_token = XYZ_navy_anti_submarine
								traits = {
									navy_anti_submarine_3
								}
							}
						}
						clr_character_flag = OG_navy_anti_submarine_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_anti_submarine_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_anti_submarine_2
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_anti_submarine_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### NAVY SUBMARINES ###

	OG_train_navy_submarine_decision = {
        icon = GFX_decision_train_navy_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_submarine_1
					has_trait = navy_submarine_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_submarine_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 49 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_submarine_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_submarine_1
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_submarine_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_submarine_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_submarine_2
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_submarine_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 49 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_submarine_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_submarine_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_submarine_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_submarine_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 100
								idea_token = XYZ_navy_submarine
								traits = {
									navy_submarine_2
								}
							}
						}
						clr_character_flag = OG_navy_submarine_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_submarine_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_submarine_1
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_submarine_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_submarine_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_submarine_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_submarine_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 200
								idea_token = XYZ_navy_submarine
								traits = {
									navy_submarine_3
								}
							}
						}
						clr_character_flag = OG_navy_submarine_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_submarine_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_submarine_2
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_submarine_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### NAVY SCREENS ###

	OG_train_navy_screen_decision = {
        icon = GFX_decision_train_navy_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_screen_1
					has_trait = navy_screen_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_screen_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 50 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_screen_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_screen_1
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_screen_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_screen_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_screen_2
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_screen_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 50 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_screen_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_screen_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_screen_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_screen_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 100
								idea_token = XYZ_navy_screen
								traits = {
									navy_screen_2
								}
							}
						}
						clr_character_flag = OG_navy_screen_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_screen_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_screen_1
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_screen_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_screen_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_screen_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_screen_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 200
								idea_token = XYZ_navy_screen
								traits = {
									navy_screen_3
								}
							}
						}
						clr_character_flag = OG_navy_screen_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_screen_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_screen_2
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_screen_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### NAVY CAPITAL SHIPS ###

	OG_train_navy_capital_ship_decision = {
        icon = GFX_decision_train_navy_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_capital_ship_1
					has_trait = navy_capital_ship_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_capital_ship_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 51 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_capital_ship_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_capital_ship_1
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_capital_ship_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_capital_ship_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_capital_ship_2
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_capital_ship_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 51 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_capital_ship_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_capital_ship_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_capital_ship_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_capital_ship_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 100
								idea_token = XYZ_navy_capital_ship
								traits = {
									navy_capital_ship_2
								}
							}
						}
						clr_character_flag = OG_navy_capital_ship_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_capital_ship_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_capital_ship_1
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_capital_ship_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_capital_ship_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_capital_ship_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_capital_ship_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 200
								idea_token = XYZ_navy_capital_ship
								traits = {
									navy_capital_ship_3
								}
							}
						}
						clr_character_flag = OG_navy_capital_ship_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_capital_ship_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_capital_ship_2
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_capital_ship_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### NAVY CARRIERS ###

	OG_train_navy_carrier_decision = {
        icon = GFX_decision_train_navy_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_carrier_1
					has_trait = navy_carrier_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_carrier_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 52 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_carrier_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_carrier_1
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_carrier_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_carrier_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_carrier_2
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_carrier_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 52 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_carrier_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_carrier_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_carrier_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_carrier_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 100
								idea_token = XYZ_navy_carrier
								traits = {
									navy_carrier_2
								}
							}
						}
						clr_character_flag = OG_navy_carrier_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_carrier_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_carrier_1
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_carrier_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_carrier_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_carrier_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_carrier_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 200
								idea_token = XYZ_navy_carrier
								traits = {
									navy_carrier_3
								}
							}
						}
						clr_character_flag = OG_navy_carrier_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_carrier_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_carrier_2
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_carrier_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }

	### NAVY NAVAL AIR DEFENSE ###

	OG_train_navy_naval_air_defense_decision = {
        icon = GFX_decision_train_navy_high_command_icon

        visible = {
			any_character = {
				has_character_flag = military_academy_eligible_flag
				OR = {
					has_trait = navy_naval_air_defense_1
					has_trait = navy_naval_air_defense_2
				}
			}
        }
        available = {
			OG_military_academy_training_slot_available = yes
        }

		fire_only_once = no
		cost = OG_train_navy_naval_air_defense_decision_pp_cost_variable
        days_remove = OG_default_military_training_duration
		days_re_enable = @military_academy_days_re_enable

		modifier = {
		}
		cancel_trigger = {
		}
		cancel_effect = {
		}

        complete_effect = { # On click

			set_variable = { OG_new_military_academy_training = 53 }
			OG_pick_military_academy_slot_effect = yes

			if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_naval_air_defense_1
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_naval_air_defense_1
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_naval_air_defense_specialist_to_expert_training_flag
				}
			}
			else_if = {
				limit = {
					any_character = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_naval_air_defense_2
					}
				}
				random_character = {
					limit = {
						has_character_flag = military_academy_eligible_flag
						has_trait = navy_naval_air_defense_2
					}
					remove_advisor_role = {
						slot = navy_high_command
					}
					set_character_flag = OG_navy_naval_air_defense_expert_to_genius_training_flag
				}
			}
        }

        remove_effect = {

			set_variable = { OG_military_academy_training_to_remove = 53 }
			OG_reset_military_academy_slot_effect = yes

			multiply_variable = { OG_train_navy_naval_air_defense_decision_pp_cost_variable = 2 }
			if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_naval_air_defense_specialist_to_expert_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_naval_air_defense_1
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_naval_air_defense_specialist_to_expert_training_flag
						}
						remove_advisor_role = {
						  slot = navy_high_command
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 100
								idea_token = XYZ_navy_naval_air_defense
								traits = {
									navy_naval_air_defense_2
								}
							}
						}
						clr_character_flag = OG_navy_naval_air_defense_specialist_to_expert_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_naval_air_defense_specialist_to_expert_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_naval_air_defense_1
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_naval_air_defense_2
						}
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						OR = {
							has_character_flag = OG_navy_naval_air_defense_expert_to_genius_training_flag
							AND = {
								has_character_flag = military_academy_eligible_flag
								has_trait = navy_naval_air_defense_2
							}
						}
					}
				}
				hidden_effect = {
					random_character = {
						limit = {
							has_character_flag = OG_navy_naval_air_defense_expert_to_genius_training_flag
						}
						add_advisor_role = {
							advisor = {
								slot = navy_high_command
								cost = 200
								idea_token = XYZ_navy_naval_air_defense
								traits = {
									navy_naval_air_defense_3
								}
							}
						}
						clr_character_flag = OG_navy_naval_air_defense_expert_to_genius_training_flag
					}
				}
				effect_tooltip = {
					random_character = {
						limit = {
							OR = {
								has_character_flag = OG_navy_naval_air_defense_expert_to_genius_training_flag
								AND = {
									has_character_flag = military_academy_eligible_flag
									has_trait = navy_naval_air_defense_2
								}
							}
						}
						add_trait = {
							 slot = navy_high_command
							 trait = navy_naval_air_defense_3
						}
					}
				}
			}
			custom_effect_tooltip = OG_military_academy_next_training_cost_tt
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { OG_officer_in_training_photo_2_icon_frame = OG_military_academy_empty_slot_index }
			}
		}
    }


} #CAT END

